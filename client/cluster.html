<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" media="screen" href="cluster.css">
</head>

<body>
    <div class="left">
    
    </div>
    <div class="clearfix"></div>

    <div class="right">
        <h1><pre>     100 Most Popular 
   Words in Group Names</pre></h1>
    </div>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script>
            var w = 1000,
                h = 869;
            var force = d3.layout.force()
                            .charge(-250)
                            //.chargeDistance(100)
                            .linkDistance(30)
                            //.friction(0)
                            //.theta(1)
                            .gravity(.15)
                            .size([w, h]);
            var svg = d3.select("div")
                            .append("svg")
                            .attr("width", w)
                            .attr("height", h)
                            .style("background", "aqua");
            
            d3.json("http://travisolbrich.com:8080/words/frequency", function(error, graph){
                if(error) throw error;
                
                force.nodes(graph.nodes)
                     .start();
                
                /*var gnodes = svg.selectAll('g.gnode')
                                .data(graph.nodes)
                                .enter()
                                .append('g')
                                .classed('gnode', true);*/
                
                var node = svg.selectAll(".node")
                            .data(graph.nodes)
                            .enter().append("circle")
                            .attr("class", "node")
                            .attr("cx", function() { return Math.random() * 450; })
                            .attr("cy", function() { return Math.random() * 450; })
                            .attr("r", function(d) { return Math.sqrt(d.occurrences)/1.2})
                            .style("fill", "steelblue")          //function(d) { return color(1); }
                            .style("stroke", "darkgrey")
                            .style("stroke-width", "2px")
                            .style("fontcolor", "white")
                            .call(force.drag);
                
                node.append("title")
                    .text(function(d) { return d.word; });
                
                /*var titles = gnodes.append("title")
                            .text(function(d) { return d.word; });*/
                
                //console.log(titles);
                
                force.on("tick", function() {
                    node.attr("cx", function(d) { return d.x; })
                        .attr("cy", function(d) { return d.y; });
                });
                
                /*node.on("click", function(){
                   window.location='#'; 
                });*/
                
                //gnodes.attr("transform", function(d) {return 'translate('+ [d.x, d.y] + ')'});
                /*gnodes.attr("transform", function(d) { 
                    return 'translate(' + [d.x, d.y] + ')'; 
                });*/
            });
        </script>
    <!--<script src="cluster.js"></script>    -->
</body>
</html>