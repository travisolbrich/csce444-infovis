<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" media="screen" href="cluster.css">
</head>

<body>
    <div class="left">
    
    </div>
    <div class="clearfix"></div>

    <div class="right">
        <div class="round-button"><div class="round-button-circle"><a href="about.html" class="round-button">i</a></div></div>
        <br><h1><pre>     100 Most Popular 
   Words in Group Names</pre></h1>
    </div>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script>
            var w = 1100,
                h = 869;
            var force = d3.layout.force()
                            .charge(-275)
                            //.chargeDistance(100)
                            .linkDistance(30)
                            //.friction(0)
                            //.theta(1)
                            .gravity(.1)
                            .size([w, h]);
            var svg = d3.select("div")
                            .append("svg")
                            .attr("width", w)
                            .attr("height", h)
                            .style("background", "aqua");
            
            d3.json("http://travisolbrich.com:8080/words/frequency", function(error, graph){
                if(error) throw error;
                
                force.nodes(graph.nodes)
                     .start();
                
                var bar = svg.selectAll(".node")
                            .data(graph.nodes)
                            .enter()
                            .append("rect")
                            .attr("x", function(d, i) {return i*(w /75);})
                            .attr("y", function(d) {return h - 40*Math.sqrt(d.occurrences);})
                            .attr("width", w/75 - 1)
                            .attr("height", function(d) {return 40*Math.sqrt(d.occurrences);})
                            .style("fill", "steelblue");         //function(d) { return color(1); }
                
                bar.append("title")
                    .text(function(d) { return d.word; });
                
                svg.selectAll("text")
                    .data(graph.nodes)
                    .enter()
                    .append("text")
                    .text(function(d) {return d.word;})
                    .attr("y", function(d, i) {return i * (w / 75);})
                    .attr("x", function(d) {return h - 40*Math.sqrt(d.occurrences);})
                    .attr("dx", "-100em")
                    .attr("dy", ".15em")
                    .attr("transform", "rotate(-90)")
                    .attr("font-family", "sans-serif")
                    .attr("font-size", "9px")
                    .attr("fill", "white");
                
                /*var titles = gnodes.append("title")
                            .text(function(d) { return d.word; });*/
                
                force.on("tick", function() {
                    
                });
                
                /*node.on("click", function(){
                   window.location='#'; 
                });*/
            });
        </script>
    <!--<script src="cluster.js"></script>    -->
</body>
</html>